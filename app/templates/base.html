<html>
  <head>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
	  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]} 
      });
    </script>
    {% if title %}
    <title>QIJC - {{ title }}</title>
    {% else %}
    <title>QIJC</title>
    {% endif %}
  </head>
  <body>
    <link rel='stylesheet' type='text/css' href='{{ url_for('static', filename='style.css') }}'>
    <div class='topnav'>
      <a href="{{ url_for('main.index') }}">Home</a>
      {% if current_user.is_anonymous %}
      <a href="{{ url_for('auth.login') }}">Login</a>
      {% else %}
      <a href="{{ url_for('main.submit') }}">Submit</a>
      <a href="{{ url_for('main.search') }}">Search</a>
      <a href="{{ url_for('main.vote') }}">Vote</a>
      <a href="{{ url_for('main.history') }}">History</a>
      <a href="{{ url_for('main.user', username=current_user.username) }}">Profile</a>
      {% if current_user.admin %}
      <a href="{{ url_for('auth.manage') }}">Manage</a>
      {% endif %}
      <a href="{{ url_for('main.message') }}">Messaging</a>
      <a href="{{ url_for('auth.logout') }}">Log out</a>
      {% endif %}
    </div>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div class='flashed'>
      <ul>
	{% for message in messages %}
	<li>{{ message }}</li>
	{% endfor %}
      </ul>
    </div>
    {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
  </body>
</html>
